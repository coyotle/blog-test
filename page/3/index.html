<!doctype html><html lang=ru dir=auto data-theme=auto><head><meta name=generator content="Hugo 0.152.2"><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Мини-блог об IT, Linux, Open Source, Tech</title><meta name=keywords content="блог,linux,opensource,devops,vpn,docker,llm,python,telegram"><meta name=description content="Блог об IT, Linux, Open Source, DevOps, программировании, системном администрировании. Интересные статьи, советы и разборы."><meta name=author content><link rel=canonical href=https://coyotle.ru/><link crossorigin=anonymous href=/assets/css/stylesheet.d6626ca70f3a7dda16dfce9eb29df152c81185d6739a741054093fb92b9e6839.css integrity="sha256-1mJspw86fdoW386esp3xUsgRhdZzmnQQVAk/uSueaDk=" rel="preload stylesheet" as=style><link rel=icon href=https://coyotle.ru/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://coyotle.ru/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://coyotle.ru/favicon-32x32.png><link rel=apple-touch-icon href=https://coyotle.ru/apple-touch-icon.png><link rel=mask-icon href=https://coyotle.ru/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://coyotle.ru/index.xml title=rss><link rel=alternate type=application/json href=https://coyotle.ru/index.json title=json><link rel=alternate hreflang=ru href=https://coyotle.ru/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><meta property="og:url" content="https://coyotle.ru/"><meta property="og:site_name" content="Мини-блог об IT, Linux, Open Source, Tech"><meta property="og:title" content="Мини-блог об IT, Linux, Open Source, Tech"><meta property="og:description" content="Блог об IT, Linux, Open Source, DevOps, программировании, системном администрировании. Интересные статьи, советы и разборы."><meta property="og:locale" content="ru-RU"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content><meta name=twitter:description content="Блог об IT, Linux, Open Source, DevOps, программировании, системном администрировании. Интересные статьи, советы и разборы."><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"Мини-блог об IT, Linux, Open Source, Tech","url":"https://coyotle.ru/","description":"Блог об IT, Linux, Open Source, DevOps, программировании, системном администрировании. Интересные статьи, советы и разборы.","logo":"https://coyotle.ru/favicon.ico","sameAs":["https://t.me/coyotewld","mailto:me@coyotle.ru","https://pay.cloudtips.ru/p/6121d306"]}</script></head><body class=list id=top><header class=header><nav class=nav><div class=logo><a href=https://coyotle.ru/ accesskey=h title="Мини-блог об IT, Linux, Open Source, Tech (Alt + H)">Мини-блог об IT, Linux, Open Source, Tech</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://coyotle.ru/tags/ title=тэги><span>тэги</span></a></li><li><a href=https://coyotle.ru/about/ title="обо мне"><span>обо мне</span></a></li></ul></nav></header><main class=main><article class=post-entry><figure class=entry-cover><img loading=lazy srcset='https://coyotle.ru/posts/pixel-muse/pixelmuse_hu_886994543f48e738.png 360w,https://coyotle.ru/posts/pixel-muse/pixelmuse_hu_8541895192341f89.png 480w,https://coyotle.ru/posts/pixel-muse/pixelmuse_hu_6f83e1661a184414.png 720w,https://coyotle.ru/posts/pixel-muse/pixelmuse_hu_ba9952873320355b.png 1080w,https://coyotle.ru/posts/pixel-muse/pixelmuse.png 1342w' src=https://coyotle.ru/posts/pixel-muse/pixelmuse.png sizes="(min-width: 768px) 720px, 100vw" width=1342 height=755 alt="Красивая девушка с сухими цветами в волосах"></figure><header class=entry-header><h2 class=entry-hint-parent>Telegram-бот для создания изображений нейросетью</h2></header><div class=entry-content><p>В общем, кому не хватало Midjourney у нас дома - добро пожаловать в @pixelmuse_bot.
Что бот умеет на данный момент:
Создавать картинки по текстовому запросу Используется автоматический машинный перевод текста на английский, поэтому запрос может быть практически на любом языке Можно выбрать из 5 моделей: реализм, аниме, киборги, sci-fi окружение, стикеры (по факту под капотом две модели + разные LoRa) Можно загрузить свою фотографию для обработки img2img Можно сделать апскейл результата x1.5. Для апскейла используется нейронка Real-ESRGAN Даю 20 токенов для тестов (20 изображений) с лимитом 10 токенов в день Dev-лог Какое-то время ковырял Stable Diffusion в Автоматик111 и ComfyUI. В один прекрасный депрессивный день решил посмотреть, как работать с сетью напрямую в python. Сделать это можно с помощью библиотеке diffusers от Hugging Face. Написал пятистрочный скрипт и подумал почему бы ради прикола не приделать к нему телеграм бота, и тут понеслось.
...</p></div><footer class=entry-footer><span title='2023-09-22 17:21:45 +0300 +0300'>22 сентября 2023</span></footer><a class=entry-link aria-label="post link to Telegram-бот для создания изображений нейросетью" href=https://coyotle.ru/posts/pixel-muse/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy srcset='https://coyotle.ru/posts/cyberpunk-2023/ghost-in-the-shell_hu_71a546b7e9453bbb.gif 360w,https://coyotle.ru/posts/cyberpunk-2023/ghost-in-the-shell_hu_abb7ea672d92ff3a.gif 480w,https://coyotle.ru/posts/cyberpunk-2023/ghost-in-the-shell_hu_5d242e1920220d85.gif 720w,https://coyotle.ru/posts/cyberpunk-2023/ghost-in-the-shell.gif 929w' src=https://coyotle.ru/posts/cyberpunk-2023/ghost-in-the-shell.gif sizes="(min-width: 768px) 720px, 100vw" width=929 height=500 alt="Ghost in the Shell"></figure><header class=entry-header><h2 class=entry-hint-parent>Cyberpunk 2023</h2></header><div class=entry-content><p>С другой стороны, а кто из IT-специалистов не мечтал пожить в каберпанк антиутопии? Минцифры опубликовало проект изменений в постановление Правительства РФ от 26 октября 2012 г. № 1101, согласно которым РКН наделяется правом включать в реестр интернет-ресурсов, доступ к которым в России должен блокироваться, сайты с информацией о способах, методах обеспечения доступа к информационным ресурсам и информационно-телекоммуникационным сетям, доступ к которым ограничен на территории РФ. Источники СМИ сообщили, что новый проект постановления Минцифры коснётся сайтов со списками VPN или инструкциями по созданию собственных VPN и прокси-серверов, позволяющих обходить ограничения по запрету.</p></div><footer class=entry-footer><span title='2023-09-07 07:12:04 +0300 +0300'>7 сентября 2023</span></footer><a class=entry-link aria-label="post link to Cyberpunk 2023" href=https://coyotle.ru/posts/cyberpunk-2023/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Xray с XTLS-Reality и Nginx на одном порту</h2></header><div class=entry-content><p>Что делаем? Настроим так чтобы на одном порту 443 висел и nginx с нашими сайтами и xray XTLS-Reality, который работает как прокси для авторизованных пользователей и притворяется валидным сайтом (в примере www.google.com) для всех остальных.
XTLS-Reality предназначен для защиты от выявления методом active probing. В отличие от старых протоколов (Shadowsocks, VMess, VLESS, и транспорта XTLS-Vision), определение “свой/чужой” здесь происходит на этапе TLS-хендшейка в момент чтения ClientHello. Если клиент опознан как “свой”, сервер работает как прокси, а если нет - TLS подключение передается на другой хост с TLS (например, google.com), и таким образом клиент (или цензор, желающий методом active probing проверить, что прячется на том конце) получит настоящий TLS-сертификат от google.com и настоящие данные с этого сервера.
...</p></div><footer class=entry-footer><span title='2023-08-13 18:12:04 +0300 +0300'>13 августа 2023</span></footer><a class=entry-link aria-label="post link to Xray с XTLS-Reality и Nginx на одном порту" href=https://coyotle.ru/posts/xray-and-nginx/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>У нас есть ChatGPT дома</h2></header><div class=entry-content><p>В статье опишу настройку web API и web-чат похожего на ChatGPT для LLaMA-подобных моделей. Всё это довольно сносно работает на CPU Ryzen 3600 + 32ГБ ОЗУ.
API + веб чат Для настройки нам понадобятся три проекта:
llama.cpp - мозг нашей системы gpt-llama.cpp - эмулирует API от OpenAI. Реализовано не всё chatbot-ui - web интерфейс для доступа к моделям OpenAI После установки компонентов должна получиться такая структура:
local-chat - корень проекта ├── chatbot-ui ├── gpt-llama.cpp └── llama.cpp ├── main* └── models/your-ggml-model.bin llama.cpp Думаю многие уже попробовали установить и пообщаться с llama-подобными моделями, но в любом случае опишу процесс установки.
...</p></div><footer class=entry-footer><span title='2023-04-27 09:45:03 +0300 +0300'>27 апреля 2023</span></footer><a class=entry-link aria-label="post link to У нас есть ChatGPT дома" href=https://coyotle.ru/posts/chatgpt-at-home/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Как поговорить с LLaMA голосом</h2></header><div class=entry-content><p>Наверное уже все пообщались в текстовом режиме с llama-подобными моделями, в этой заметке расскажу как можно настроить полностью голосовое общение с моделью.
Для общения нам понадобятся:
whisper.cpp - преобразование голоса в текст silero - синтез речи модель совместимая с llama.cpp Silero TTS По моему Silero лучший синтезатор речи который можно запустить под Linux с довольно приличной скорость на CPU. На хабре есть несколько статей от разработчиков, поищите, интересное чтиво. Пользователи Mac могу пропустить этот шаг и использовать для синтеза Siri.
...</p></div><footer class=entry-footer><span title='2023-04-26 00:32:30 +0300 +0300'>26 апреля 2023</span></footer><a class=entry-link aria-label="post link to Как поговорить с LLaMA голосом" href=https://coyotle.ru/posts/talk-to-llama/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Этика ИИ. Корпорации врут, а мы катимся в пропасть?</h2></header><div class=entry-content><p>Если попытаться спросить ChatGPT о чем-то связанном с насилием, криминалом и т.п. - он ответит, что не будет обсуждать эту тему т.к. это не этично. OpenAI и Microsoft постоянно рассказывают о своих усилиях в области безопасности ИИ. Тот же Google какое-то время назад прикрыл доступ к своей языковой модели после того как пользователи научили её “плохим” вещам. Но так ли всё хорошо с безопасным и этичным использованием ИИ и куда мы идем?
...</p></div><footer class=entry-footer><span title='2023-03-23 12:04:35 +0300 +0300'>23 марта 2023</span></footer><a class=entry-link aria-label="post link to Этика ИИ. Корпорации врут, а мы катимся в пропасть?" href=https://coyotle.ru/posts/ai-and-ethic/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Подготовка данных для нейронной сети</h2></header><div class=entry-content><p>На волне шумихи вокруг GPT-3 появилось желание покапаться во внутреннем устройстве нейронных сетей и попробовать написать сеть для классификации текстов по категориям/тэгам. Это первая заметка из серии, речь в ней пойдет о предварительной подготовке данных.
Зачем необходима подготовка данных? Текстовые данные не могут быть использованы напрямую в моделях машинного обучения, так как в нейронах используются простые математические функции которые работают с числовыми данными. Для подготовки текстовых данных используют так называемое кодирование слов - это преобразование текстовых данных в числовые (векторные) представления, которые затем можно использовать для машинного обучения. Существует много способов кодирования, вот некоторые из них:
...</p></div><footer class=entry-footer><span title='2023-02-11 23:34:29 +0300 +0300'>11 февраля 2023</span></footer><a class=entry-link aria-label="post link to Подготовка данных для нейронной сети" href=https://coyotle.ru/posts/ml-preparing-data/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy srcset='https://coyotle.ru/posts/obsidian-live-sync/obsidian-graph_hu_8a72206b877a25b7.png 360w,https://coyotle.ru/posts/obsidian-live-sync/obsidian-graph_hu_2b7309ab0f7782e9.png 480w,https://coyotle.ru/posts/obsidian-live-sync/obsidian-graph_hu_11e16ba35b040b53.png 720w,https://coyotle.ru/posts/obsidian-live-sync/obsidian-graph_hu_af3f6ee55011ba76.png 1080w,https://coyotle.ru/posts/obsidian-live-sync/obsidian-graph.png 1337w' src=https://coyotle.ru/posts/obsidian-live-sync/obsidian-graph.png sizes="(min-width: 768px) 720px, 100vw" width=1337 height=634 alt></figure><header class=entry-header><h2 class=entry-hint-parent>Живая синхронизация заметок Obsidian</h2></header><div class=entry-content><p>Доступна обновленная инструкция по настройке плагина и CouchDB
Для тех кто не в курсе, Obsidian - кроссплатформенная программа для ведения заметок в markdown формате, которую можно использовать для создания личной базы знаний или вашего «второго мозга» по методу Zettelkasten. Как работает метод можно почитать по ссылке. На самом деле Obsidian не обязательно использовать именно как «второй мозг», это просто удобная программа для ведения заметок с большим количеством плагинов.
Один минус - Obsidian из коробки поддерживает синхронизацию заметок только через собственный платный сервис. Из плюсов - вся база хранится в виде обычных md файлов которые можно синхронизировать между устройствами через облачные сервисы. У меня изначально синхронизировалось через NextCloud, но в мобильном клиенте NC постоянно возникают конфликты, которые надо разрешать руками. Вообще мобильный клиент да и сам nextcoud бесят, может кто-то знает альтернативы?
...</p></div><footer class=entry-footer><span title='2023-02-04 10:06:01 +0300 +0300'>4 февраля 2023</span></footer><a class=entry-link aria-label="post link to Живая синхронизация заметок Obsidian" href=https://coyotle.ru/posts/obsidian-live-sync/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Автоматизация сборки и публикации блога Hugo</h2></header><div class=entry-content><p>В предыдущей заметке мы установили Drone CI, в этой настроим автоматическую сборку и публикацию блога при пуше в git-репозиторий.
После настройки Drone и авторизации в нем вы должны увидеть доступные вам репозитории. Для того чтобы Drone начал обрабатывать пайплайны необходимо активировать репозиторий. Для это в секции Repositories заходим в нужный репозиторий и нажамаем Activate repository. На странице настроек можно отключить вебхуки которые будут отслеживаться, настроить режим приватности, максимальное время выполнения пайплайна и название файла в котором Drone будет искать описание пайплайна (по умолчанию .drone.yml). Нажимаем Save changes.
...</p></div><footer class=entry-footer><span title='2023-02-02 11:52:31 +0300 +0300'>2 февраля 2023</span></footer><a class=entry-link aria-label="post link to Автоматизация сборки и публикации блога Hugo" href=https://coyotle.ru/posts/deploy-hugo-blog/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Drone CI</h2></header><div class=entry-content><p>В продолжение заметки “У нас есть github дома” добавим к нашему окружению систему автоматического тестирования и доставки ПО Drone CI. Документацию можно почитать тут https://docs.drone.io/.
Из плюсов Drone по сравнению с Jenkins: простота установки, настройки и сопровождения, не надо изучать groovy, всё пишется на yaml.
Drone CI состоит из двух сервисов: собственно Drone и ранеров которые будут выполнять необходимые задачи, в даном случае ранеры используют докер хост системы для запуска задач.
Сам drone не имеет базы пользователей и использует OAuth внешней системы для авторизации пользователей. Для настройки OAuth перейдите в раздел user/settings/applications на вашем экземпляре forgejo/gitea и в подразделе Authorized OAuth2 Applications создайте новое приложение. В поле Redirect URI укажите адрес вашего drone сервера, например https://drone.example.ru/login. После создания приложения скопируйте client id и secret, они понадобятся ниже.
...</p></div><footer class=entry-footer><span title='2023-01-27 03:48:54 +0300 +0300'>27 января 2023</span></footer><a class=entry-link aria-label="post link to Drone CI" href=https://coyotle.ru/posts/cicd-at-home/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://coyotle.ru/page/2/>«&nbsp;Предыдущая&nbsp;
</a><a class=next href=https://coyotle.ru/page/4/>Следующая&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2025 <a href=https://coyotle.ru/>Мини-блог об IT, Linux, Open Source, Tech</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script></body></html>