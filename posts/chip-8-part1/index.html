<!doctype html><html lang=ru dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>–≠–º—É–ª–∏—Ä—É–µ–º CHIP-8 –Ω–∞ Rust. –ß–∞—Å—Ç—å 1 | –ú–∏–Ω–∏-–±–ª–æ–≥ –æ–± IT, Linux, Open Source, Tech</title><meta name=keywords content="rust,chip-8"><meta name=description content="–ê –ø–æ—á–µ–º—É –±—ã –Ω–µ –∑–∞–º—É—Ç–∏—Ç—å —ç–º—É–ª—è—Ç–æ—Ä CHIP-8 –Ω–∞ Rust? –≠—Ç–∞ –º—ã—Å–ª—å –ø—Ä–∏—à–ª–∞ –º–Ω–µ –≤ 2 —á–∞—Å–∞ –Ω–æ—á–∏, –∫–æ–≥–¥–∞ —è —Å–æ–±–∏—Ä–∞–ª—Å—è –ª–æ–∂–∏—Ç—å—Å—è —Å–ø–∞—Ç—å. –ö —ç—Ç–æ–º—É –º–æ–º–µ–Ω—Ç—É —è –ø—Ä–æ—á–∏—Ç–∞–ª –≥–¥–µ-—Ç–æ 15 –≥–ª–∞–≤ —É—á–µ–±–Ω–∏–∫–∞ –ø–æ Rust –∏ –Ω–∞–ø–∏—Å–∞–ª –¥–µ—Å—è—Ç–æ–∫ hello world. &ldquo;–≠—Ç–æ–≥–æ –¥–æ–ª–∂–Ω–æ —Ö–≤–∞—Ç–∏—Ç—å&rdquo; - –ø–æ–¥—É–º–∞–ª —è, –∑–∞–≤–∞—Ä–∏–ª —á–∞–π, –≤–∫–ª—é—á–∏–ª –ü–ö –∏ –Ω–∞—á–∞–ª –≥—É–≥–ª–∏—Ç—å –ø—Ä–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É CHIP-8.

CHIP-8 - –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º—ã–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –î–∂–æ–∑–µ—Ñ–æ–º –í–∞–π—Å–±–µ–∫–µ—Ä–æ–º –¥–ª—è —Å–≤–æ–µ–≥–æ –º–∏–∫—Ä–æ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ 1802. –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ –æ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –≤ COSMAC VIP –∏ Telmac 1800 - 8-–±–∏—Ç–Ω—ã—Ö –º–∏–∫—Ä–æ–∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö, –≤—ã–ø—É—â–µ–Ω–Ω—ã—Ö –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ 1970-—Ö.
CHIP-8 –±—ã–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –µ–≥–æ –±—ã–ª–æ –ª–µ–≥–∫–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞—Ç—å, –∞ —Ç–∞–∫–∂–µ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –æ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –º–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏, —á–µ–º –¥—Ä—É–≥–∏–µ —è–∑—ã–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, —Ç–∞–∫–∏–µ –∫–∞–∫ BASIC."><meta name=author content><link rel=canonical href=https://coyotle.ru/posts/chip-8-part1/><link crossorigin=anonymous href=/assets/css/stylesheet.d6626ca70f3a7dda16dfce9eb29df152c81185d6739a741054093fb92b9e6839.css integrity="sha256-1mJspw86fdoW386esp3xUsgRhdZzmnQQVAk/uSueaDk=" rel="preload stylesheet" as=style><link rel=icon href=https://coyotle.ru/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://coyotle.ru/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://coyotle.ru/favicon-32x32.png><link rel=apple-touch-icon href=https://coyotle.ru/apple-touch-icon.png><link rel=mask-icon href=https://coyotle.ru/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=ru href=https://coyotle.ru/posts/chip-8-part1/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><meta property="og:url" content="https://coyotle.ru/posts/chip-8-part1/"><meta property="og:site_name" content="–ú–∏–Ω–∏-–±–ª–æ–≥ –æ–± IT, Linux, Open Source, Tech"><meta property="og:title" content="–≠–º—É–ª–∏—Ä—É–µ–º CHIP-8 –Ω–∞ Rust. –ß–∞—Å—Ç—å 1"><meta property="og:description" content="–ê –ø–æ—á–µ–º—É –±—ã –Ω–µ –∑–∞–º—É—Ç–∏—Ç—å —ç–º—É–ª—è—Ç–æ—Ä CHIP-8 –Ω–∞ Rust? –≠—Ç–∞ –º—ã—Å–ª—å –ø—Ä–∏—à–ª–∞ –º–Ω–µ –≤ 2 —á–∞—Å–∞ –Ω–æ—á–∏, –∫–æ–≥–¥–∞ —è —Å–æ–±–∏—Ä–∞–ª—Å—è –ª–æ–∂–∏—Ç—å—Å—è —Å–ø–∞—Ç—å. –ö —ç—Ç–æ–º—É –º–æ–º–µ–Ω—Ç—É —è –ø—Ä–æ—á–∏—Ç–∞–ª –≥–¥–µ-—Ç–æ 15 –≥–ª–∞–≤ —É—á–µ–±–Ω–∏–∫–∞ –ø–æ Rust –∏ –Ω–∞–ø–∏—Å–∞–ª –¥–µ—Å—è—Ç–æ–∫ hello world. ‚Äú–≠—Ç–æ–≥–æ –¥–æ–ª–∂–Ω–æ —Ö–≤–∞—Ç–∏—Ç—å‚Äù - –ø–æ–¥—É–º–∞–ª —è, –∑–∞–≤–∞—Ä–∏–ª —á–∞–π, –≤–∫–ª—é—á–∏–ª –ü–ö –∏ –Ω–∞—á–∞–ª –≥—É–≥–ª–∏—Ç—å –ø—Ä–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É CHIP-8.
CHIP-8 - –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º—ã–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –î–∂–æ–∑–µ—Ñ–æ–º –í–∞–π—Å–±–µ–∫–µ—Ä–æ–º –¥–ª—è —Å–≤–æ–µ–≥–æ –º–∏–∫—Ä–æ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ 1802. –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ –æ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –≤ COSMAC VIP –∏ Telmac 1800 - 8-–±–∏—Ç–Ω—ã—Ö –º–∏–∫—Ä–æ–∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö, –≤—ã–ø—É—â–µ–Ω–Ω—ã—Ö –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ 1970-—Ö. CHIP-8 –±—ã–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –µ–≥–æ –±—ã–ª–æ –ª–µ–≥–∫–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞—Ç—å, –∞ —Ç–∞–∫–∂–µ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –æ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –º–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏, —á–µ–º –¥—Ä—É–≥–∏–µ —è–∑—ã–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, —Ç–∞–∫–∏–µ –∫–∞–∫ BASIC."><meta property="og:locale" content="ru-RU"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-02-10T22:45:03+03:00"><meta property="article:modified_time" content="2025-02-10T22:45:03+03:00"><meta property="article:tag" content="Rust"><meta property="article:tag" content="Chip-8"><meta property="og:image" content="https://coyotle.ru/retropc.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://coyotle.ru/retropc.png"><meta name=twitter:title content="–≠–º—É–ª–∏—Ä—É–µ–º CHIP-8 –Ω–∞ Rust. –ß–∞—Å—Ç—å 1"><meta name=twitter:description content="–ê –ø–æ—á–µ–º—É –±—ã –Ω–µ –∑–∞–º—É—Ç–∏—Ç—å —ç–º—É–ª—è—Ç–æ—Ä CHIP-8 –Ω–∞ Rust? –≠—Ç–∞ –º—ã—Å–ª—å –ø—Ä–∏—à–ª–∞ –º–Ω–µ –≤ 2 —á–∞—Å–∞ –Ω–æ—á–∏, –∫–æ–≥–¥–∞ —è —Å–æ–±–∏—Ä–∞–ª—Å—è –ª–æ–∂–∏—Ç—å—Å—è —Å–ø–∞—Ç—å. –ö —ç—Ç–æ–º—É –º–æ–º–µ–Ω—Ç—É —è –ø—Ä–æ—á–∏—Ç–∞–ª –≥–¥–µ-—Ç–æ 15 –≥–ª–∞–≤ —É—á–µ–±–Ω–∏–∫–∞ –ø–æ Rust –∏ –Ω–∞–ø–∏—Å–∞–ª –¥–µ—Å—è—Ç–æ–∫ hello world. &ldquo;–≠—Ç–æ–≥–æ –¥–æ–ª–∂–Ω–æ —Ö–≤–∞—Ç–∏—Ç—å&rdquo; - –ø–æ–¥—É–º–∞–ª —è, –∑–∞–≤–∞—Ä–∏–ª —á–∞–π, –≤–∫–ª—é—á–∏–ª –ü–ö –∏ –Ω–∞—á–∞–ª –≥—É–≥–ª–∏—Ç—å –ø—Ä–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É CHIP-8.

CHIP-8 - –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º—ã–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –î–∂–æ–∑–µ—Ñ–æ–º –í–∞–π—Å–±–µ–∫–µ—Ä–æ–º –¥–ª—è —Å–≤–æ–µ–≥–æ –º–∏–∫—Ä–æ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ 1802. –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ –æ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –≤ COSMAC VIP –∏ Telmac 1800 - 8-–±–∏—Ç–Ω—ã—Ö –º–∏–∫—Ä–æ–∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö, –≤—ã–ø—É—â–µ–Ω–Ω—ã—Ö –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ 1970-—Ö.
CHIP-8 –±—ã–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –µ–≥–æ –±—ã–ª–æ –ª–µ–≥–∫–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞—Ç—å, –∞ —Ç–∞–∫–∂–µ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –æ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –º–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏, —á–µ–º –¥—Ä—É–≥–∏–µ —è–∑—ã–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, —Ç–∞–∫–∏–µ –∫–∞–∫ BASIC."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"–ü–æ—Å—Ç—ã","item":"https://coyotle.ru/posts/"},{"@type":"ListItem","position":2,"name":"–≠–º—É–ª–∏—Ä—É–µ–º CHIP-8 –Ω–∞ Rust. –ß–∞—Å—Ç—å 1","item":"https://coyotle.ru/posts/chip-8-part1/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"–≠–º—É–ª–∏—Ä—É–µ–º CHIP-8 –Ω–∞ Rust. –ß–∞—Å—Ç—å 1","name":"–≠–º—É–ª–∏—Ä—É–µ–º CHIP-8 –Ω–∞ Rust. –ß–∞—Å—Ç—å 1","description":"–ê –ø–æ—á–µ–º—É –±—ã –Ω–µ –∑–∞–º—É—Ç–∏—Ç—å —ç–º—É–ª—è—Ç–æ—Ä CHIP-8 –Ω–∞ Rust? –≠—Ç–∞ –º—ã—Å–ª—å –ø—Ä–∏—à–ª–∞ –º–Ω–µ –≤ 2 —á–∞—Å–∞ –Ω–æ—á–∏, –∫–æ–≥–¥–∞ —è —Å–æ–±–∏—Ä–∞–ª—Å—è –ª–æ–∂–∏—Ç—å—Å—è —Å–ø–∞—Ç—å. –ö —ç—Ç–æ–º—É –º–æ–º–µ–Ω—Ç—É —è –ø—Ä–æ—á–∏—Ç–∞–ª –≥–¥–µ-—Ç–æ 15 –≥–ª–∞–≤ —É—á–µ–±–Ω–∏–∫–∞ –ø–æ Rust –∏ –Ω–∞–ø–∏—Å–∞–ª –¥–µ—Å—è—Ç–æ–∫ hello world. \u0026ldquo;–≠—Ç–æ–≥–æ –¥–æ–ª–∂–Ω–æ —Ö–≤–∞—Ç–∏—Ç—å\u0026rdquo; - –ø–æ–¥—É–º–∞–ª —è, –∑–∞–≤–∞—Ä–∏–ª —á–∞–π, –≤–∫–ª—é—á–∏–ª –ü–ö –∏ –Ω–∞—á–∞–ª –≥—É–≥–ª–∏—Ç—å –ø—Ä–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É CHIP-8.\nCHIP-8 - –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º—ã–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –î–∂–æ–∑–µ—Ñ–æ–º –í–∞–π—Å–±–µ–∫–µ—Ä–æ–º –¥–ª—è —Å–≤–æ–µ–≥–æ –º–∏–∫—Ä–æ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ 1802. –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ –æ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –≤ COSMAC VIP –∏ Telmac 1800 - 8-–±–∏—Ç–Ω—ã—Ö –º–∏–∫—Ä–æ–∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö, –≤—ã–ø—É—â–µ–Ω–Ω—ã—Ö –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ 1970-—Ö. CHIP-8 –±—ã–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –µ–≥–æ –±—ã–ª–æ –ª–µ–≥–∫–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞—Ç—å, –∞ —Ç–∞–∫–∂–µ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –æ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –º–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏, —á–µ–º –¥—Ä—É–≥–∏–µ —è–∑—ã–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, —Ç–∞–∫–∏–µ –∫–∞–∫ BASIC.\n","keywords":["rust","chip-8"],"articleBody":"–ê –ø–æ—á–µ–º—É –±—ã –Ω–µ –∑–∞–º—É—Ç–∏—Ç—å —ç–º—É–ª—è—Ç–æ—Ä CHIP-8 –Ω–∞ Rust? –≠—Ç–∞ –º—ã—Å–ª—å –ø—Ä–∏—à–ª–∞ –º–Ω–µ –≤ 2 —á–∞—Å–∞ –Ω–æ—á–∏, –∫–æ–≥–¥–∞ —è —Å–æ–±–∏—Ä–∞–ª—Å—è –ª–æ–∂–∏—Ç—å—Å—è —Å–ø–∞—Ç—å. –ö —ç—Ç–æ–º—É –º–æ–º–µ–Ω—Ç—É —è –ø—Ä–æ—á–∏—Ç–∞–ª –≥–¥–µ-—Ç–æ 15 –≥–ª–∞–≤ —É—á–µ–±–Ω–∏–∫–∞ –ø–æ Rust –∏ –Ω–∞–ø–∏—Å–∞–ª –¥–µ—Å—è—Ç–æ–∫ hello world. ‚Äú–≠—Ç–æ–≥–æ –¥–æ–ª–∂–Ω–æ —Ö–≤–∞—Ç–∏—Ç—å‚Äù - –ø–æ–¥—É–º–∞–ª —è, –∑–∞–≤–∞—Ä–∏–ª —á–∞–π, –≤–∫–ª—é—á–∏–ª –ü–ö –∏ –Ω–∞—á–∞–ª –≥—É–≥–ª–∏—Ç—å –ø—Ä–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É CHIP-8.\nCHIP-8 - –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º—ã–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –î–∂–æ–∑–µ—Ñ–æ–º –í–∞–π—Å–±–µ–∫–µ—Ä–æ–º –¥–ª—è —Å–≤–æ–µ–≥–æ –º–∏–∫—Ä–æ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ 1802. –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ –æ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –≤ COSMAC VIP –∏ Telmac 1800 - 8-–±–∏—Ç–Ω—ã—Ö –º–∏–∫—Ä–æ–∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö, –≤—ã–ø—É—â–µ–Ω–Ω—ã—Ö –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ 1970-—Ö. CHIP-8 –±—ã–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –µ–≥–æ –±—ã–ª–æ –ª–µ–≥–∫–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞—Ç—å, –∞ —Ç–∞–∫–∂–µ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –æ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –º–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏, —á–µ–º –¥—Ä—É–≥–∏–µ —è–∑—ã–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, —Ç–∞–∫–∏–µ –∫–∞–∫ BASIC.\n–ß—Ç–æ –ø–æ –∂–µ–ª–µ–∑—É? –≠–º—É–ª—è—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –Ω–∞ –±–æ—Ä—Ç—É:\n4096 –±–∞–π—Ç –û–ó–£ 16 8-–±–∏—Ç–Ω—ã—Ö —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤ 12-–±–∏—Ç–Ω—ã–π I —Ä–µ–≥–∏—Å—Ç—Ä –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å –ø–∞–º—è—Ç—å—é 16-–±–∏—Ç–Ω—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Ç–µ–∫—É—â—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é —Å—Ç—ç–∫ —Ç–∞–π–º–µ—Ä –∑–∞–¥–µ—Ä–∂–∫–∏ (—É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –Ω–∞ 1 –µ—Å–ª–∏ –±–æ–ª—å—à–µ 0 —Å —á–∞—Å—Ç–æ—Ç–æ–π 60Hz) —Ç–∞–π–º–µ—Ä –∑–≤—É–∫–∞ (—É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –Ω–∞ 1 –µ—Å–ª–∏ –±–æ–ª—å—à–µ 0 —Å —á–∞—Å—Ç–æ—Ç–æ–π 60Hz –∏ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç –∑–≤—É–∫ BEEP –µ—Å–ª–∏ —Ç–∞–π–º–µ—Ä –±–æ–ª—å—à–µ 0) –º–æ–Ω–æ—Ö—Ä–æ–º–Ω—ã–π –¥–∏—Å–ø–ª–µ–π 64x32 –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å 16 –∫–ª–∞–≤–∏—à–∞–º–∏ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ –ø–∞–º—è—Ç—å —Å –∞–¥—Ä–µ—Å–∞ 512 (0x200). –í –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö –º–∏–∫—Ä–æ–∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö –≤ –ø–µ—Ä–≤—ã—Ö 512 –±–∞–π—Ç–∞—Ö —Ä–∞–∑–º–µ—â–∞–ª—Å—è —Å–∞–º –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä CHIP-8, –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —ç–º—É–ª—è—Ç–æ—Ä–∞—Ö –≤ —ç—Ç—É –æ–±–ª–∞—Å—Ç—å –ø–æ–º–µ—â–∞—é—Ç –¥—Ä—É–≥–∏–µ –¥–∞–Ω–Ω—ã–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä —à—Ä–∏—Ñ—Ç—ã.\n–í –∫–æ–¥–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:\npub struct Chip8 { pub memory: [u8; 4096], // –ø–∞–º—è—Ç—å pub registers: [u8; 16], // —Ä–µ–≥–∏—Å—Ç—Ä—ã pub i_register: u16, // i-—Ä–µ–≥–∏—Å—Ç—Ä pub pc: u16, // —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Ç–µ–∫—É—â—É—é –æ–ø–µ—Ä–∞—Ü–∏—é (–∏–Ω–¥–µ–∫—Å –≤ memory) pub delay_timer: u8, // —Ç–∞–π–º–µ—Ä –∑–∞–¥–µ—Ä–∂–∫–∏ pub sound_timer: u8, // —Ç–∞–π–º–µ—Ä –∑–≤—É–∫–∞ pub stack: Vec\u003cu16\u003e, // —Å—Ç—ç–∫ pub display: [[u8; 64]; 32], // –¥–∏—Å–ø–ª–µ–π pub keys: [bool; 16], // –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ } –û–±—â–∏–π –ø–ª–∞–Ω —Ä–∞–±–æ—Ç—ã —ç–º—É–ª—è—Ç–æ—Ä–∞ —Ç–∞–∫–æ–π:\n–ó–∞–≥—Ä—É–∂–∞–µ–º ROM –≤ –º–∞—Å—Å–∏–≤ memory –Ω–∞—á–∏–Ω–∞—è —Å –∏–Ω–¥–µ–∫—Å–∞ 512 (0x200) –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–µ–≥–∏—Å—Ç—Ä pc –≤ 512 (0x200) –°—á–∏—Ç—ã–≤–∞–µ–º –∏–∑ memory –¥–≤–∞ —ç–ª–µ–º–µ–Ω—Ç–∞ (2 –±–∞–π—Ç–∞) –∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º pc –Ω–∞ 2 –î–µ–ª–∞–µ–º –∏–∑ –¥–≤—É—Ö —Å—á–∏—Ç–∞–Ω–Ω—ã—Ö –±–∞–π—Ç 16 –±–∏—Ç–Ω—ã–π –æ–ø–∫–æ–¥ –ü–∞—Ä—Å–∏–º –æ–ø–∫–æ–¥ —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –Ω–æ–º–µ—Ä –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –í—ã–ø–æ–ª–Ω—è–µ–º –ø–æ–ª—É—á–µ–Ω–Ω—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –ò–¥–µ–º –Ω–∞ —à–∞–≥ 3 —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –æ–ø–∫–æ–¥ –ó–∞–≥—Ä—É–∑–∫–∞ ROM –°–¥–µ–ª–∞–µ–º –∑–∞–≥—Ä—É–∑—á–∏–∫ ROM –≤ –ø–∞–º—è—Ç—å —ç–º—É–ª—è—Ç–æ—Ä–∞:\nimpl Chip8 { fn load_rom(\u0026mut self, rom: \u0026Vec\u003cu8\u003e){ if rom.len() \u003e 4096 - 0x200 { panic!(\"ROM too big to fit in memory\"); } for (i, \u0026byte) in rom.iter().enumerate() { self.memory[0x200 + i as usize] = byte; } self.pc = 0x200; } fn load_from_file(\u0026mut self, path: \u0026str) { let rom = std::fs::read(path).expect(\"Failed to read ROM\"); self.load_rom(\u0026rom); } } –í —ç—Ç–æ–º –∫–æ–¥–µ –º—ã –ø–æ–ª—É—á–∞–µ–º ROM –≤ –≤–∏–¥–µ –º–∞—Å—Å–∏–≤–∞, –ø—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–º–µ—Å—Ç–∏—Ç—Å—è –ª–∏ –æ–Ω –≤ –ø–∞–º—è—Ç—å, –ø–µ—Ä–µ–±–∏—Ä–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–º, –¥–æ–±–∞–≤–ª—è–µ–º –∏—Ö –≤ –Ω–∞—à—É –ø–∞–º—è—Ç—å –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —É–∫–∞–∑–∞—Ç–µ–ª—å pc –Ω–∞ –Ω–∞—á–∞–ª–æ –ø—Ä–æ–≥—Ä–∞–º–º—ã.\n–í—Ç–æ—Ä–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å—á–∏—Ç—ã–≤–∞–µ—Ç ROM –∏–∑ —Ñ–∞–π–ª–∞ –∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤ –ø–∞–º—è—Ç—å —ç–º—É–ª—è—Ç–æ—Ä–∞ –∏—Å–ø–æ–ª—å–∑—É—è –ø–µ—Ä–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é.\n–û–ø–∫–æ–¥—ã CHIP-8 –∏–º–µ–µ—Ç 35 –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π, –∫–∞–∂–¥–∞—è –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ 2-–±–∞–π—Ç–æ–≤—ã–º (16-–±–∏—Ç–Ω—ã–º) –æ–ø–∫–æ–¥–æ–º. –û–ø–∫–æ–¥—ã –∏–º–µ—é—Ç —Ç–∞–∫–æ–π —Ñ–æ—Ä–º–∞—Ç: CXYN, CXNN –∏–ª–∏ CNNN, –≥–¥–µ –∫–∞–∂–¥–∞—è –∏–∑ –ø–æ–∑–∏—Ü–∏–π 4-–±–∏—Ç–Ω–∞—è.\nC - –∫–æ–¥ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏–ª–∏ –≥—Ä—É–ø–ø—ã X –∏ Y –æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–∞–∫ –∏–Ω–¥–µ–∫—Å—ã —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤ N, NN, NNN - 4, 8 –∏–ª–∏ 12-–±–∏—Ç–Ω—ã–µ —á–∏—Å–ª–∞. –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —á—Ç–æ–±—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤ –∏ –ø—Ä–æ—á–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö –ß—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–¥ –≤ –ø–∞–º—è—Ç–∏ –Ω–∞–º –Ω–∞–¥–æ —É–º–µ—Ç—å —á–∏—Ç–∞—Ç—å –æ–ø–∫–æ–¥—ã –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —Ä–µ–≥–∏—Å—Ç—Ä pc\nimpl Chip8 { ... fn get_opcode(\u0026mut self) -\u003e u16 { if self.pc as usize \u003e= self.memory.len() { panic!(\"PC out of bounds\"); } let byte1 = self.memory[self.pc as usize] as u16; let byte2 = self.memory[(self.pc + 1) as usize] as u16; self.pc += 2; (byte1 \u003c\u003c 8) | byte2 } } –ë–µ—Ä–µ–º –∏–∑ –ø–∞–º—è—Ç–∏ –¥–≤–∞ 8-–±–∏—Ç–Ω—ã—Ö —á–∏—Å–ª–∞ —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏ pc –∏ pc+1, —Å–æ–±–∏—Ä–∞–µ–º –æ–¥–Ω–æ 16-–±–∏—Ç–Ω–æ–µ –∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ä–µ–≥–∏—Å—Ç—Ä pc –Ω–∞ 2.\n–ü—Ä–æ–≤–µ—Ä–∏–º, —á—Ç–æ —É –Ω–∞—Å –ø–æ–ª—É—á–∏–ª–æ—Å—å:\nfn main() { let mut chip8 = Chip8 { memory: [0; 4096], registers: [0; 16], i_register: 0, pc: 0x200, delay_timer: 0, sound_timer: 0, stack: Vec::new(), display: [[0; 64]; 32], keys: [false; 16], }; let rom:Vec\u003cu8\u003e = vec![0x00, 0x01]; chip8.load_rom(\u0026rom); loop { let opcode = chip8.get_opcode(); if opcode == 0 { break; } println!(\"Opcode: {:04x}\", opcode); } } Opcode: 0000 Opcode: 0001 –í–ø–µ—á–∞—Ç–ª—è–µ—Ç, –ø—Ä–∞–≤–¥–∞? üòÖ\n–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –í –ø—Ä–∏–Ω—Ü–∏–ø–µ —ç—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π. –ü—Ä–µ–¥–ª–∞–≥–∞—é –Ω–∞—á–∞—Ç—å —Å –º–µ—Å—Ç–∞ –≤ –∫–∞—Ä—å–µ—Ä –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ç—Ä–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:\nJMP (1NNN) ‚Äì –ø–µ—Ä–µ–π—Ç–∏ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é –∫–æ–¥–∞ –ø–æ –∞–¥—Ä–µ—Å—É NNN (pc:=NNN) LD VX, NN (6XNN) ‚Äì –ø–æ–º–µ—Å—Ç–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ NN –≤ —Ä–µ–≥–∏—Å—Ç—Ä Vx ADD VX, NN (7XNN) ‚Äì –ø—Ä–∏–±–∞–≤–∏—Ç—å NN –∫ –∑–Ω–∞—á–µ–Ω–∏—é –≤ —Ä–µ–≥–∏—Å—Ç—Ä–µ Vx –î–ª—è —Ç–µ—Å—Ç–æ–≤ –Ω–∞–º –Ω—É–∂–µ–Ω –ø—Ä–æ—Å—Ç–æ–π ROM:\nlet rom:Vec\u003cu8\u003e = vec![0x60, 0x0A, 0x70, 0x01 , 0x12, 0x02]; –î–µ—Ä–∂–∏–º –≤ —É–º–µ, —á—Ç–æ –æ–ø–∫–æ–¥—ã - 16-–±–∏—Ç–Ω—ã–µ –∏ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –∏–∑ 8-–±–∏—Ç–Ω—ã—Ö –ø–∞—Ä. –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ–º —É –Ω–∞—Å —Ç—Ä–∏ –æ–ø–∫–æ–¥–∞: 600A, 7001, 1202.\n–ß—Ç–æ –¥–æ–ª–∂–Ω–∞ –¥–µ–ª–∞—Ç—å —ç—Ç–∞ ‚Äú–ø—Ä–æ–≥—Ä–∞–º–º–∞‚Äù?\n[200] 0x600A ‚Äì –≤—ã–∑—ã–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é LD, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–º–µ—â–∞–µ—Ç 0xA (10) –≤ registers[0] [202] 0x7001 ‚Äì –≤—ã–∑—ã–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é ADD, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–±–∞–≤–ª—è–µ—Ç 1 –∫ registers[0] [204] 0x1202 ‚Äì –≤—ã–∑—ã–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é JMP —á—Ç–æ–±—ã –ø–µ—Ä–µ–π—Ç–∏ –∫ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∞–¥—Ä–µ—Å—É 0x202. –í –∏—Ç–æ–≥–µ —ç—Ç–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ü–∏–∫–ª –≤ –∫–æ—Ç–æ—Ä–æ–º –≤ registers[0] –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è 1.\n–ü–æ–≥–Ω–∞–ª–∏:\nimpl Chip8 { ... fn exec_opcode(\u0026mut self, opcode: u16) { match opcode \u0026 0xF000 { // –æ—Ç–±—Ä–∞—Å—ã–≤–∞–µ–º –º–ª–∞–¥—à–∏–µ 12 –±–∏—Ç —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∫–æ–¥ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ 0x1000 =\u003e { // JMP NNN self.pc = opcode \u0026 0x0FFF; } 0x6000 =\u003e { // LD XNN let x = ((opcode \u0026 0x0F00) \u003e\u003e 8) as usize; let value = (opcode \u0026 0x00FF) as u8; self.registers[x] = value; } 0x7000 =\u003e { // ADD XNN let x = ((opcode \u0026 0x0F00) \u003e\u003e 8) as usize; let vx = self.registers[x] ; let value = (opcode \u0026 0x00FF) as u8; self.registers[x] = vx.wrapping_add(value); // –æ—Ç–±—Ä–∞—Å—ã–≤–∞–µ–º —Å—Ç–∞—Ä—à–∏–µ –±–∏—Ç—ã –≤ —Å—É–º–º–µ –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è u8 } _ =\u003e { panic!(\"Unknown opcode: {:04x}\", opcode); } } } } fn main() { let mut chip8 = Chip8 { memory: [0; 4096], registers: [0; 16], i_register: 0, pc: 0x200, delay_timer: 0, sound_timer: 0, stack: Vec::new(), display: [[0; 64]; 32], keys: [false; 16], }; let rom:Vec\u003cu8\u003e = vec![0x60, 0x0A, 0x70, 0x01, 0x12, 0x02]; chip8.load_rom(\u0026rom); loop { let opcode = chip8.get_opcode(); if opcode == 0 { break; } println!(\"Opcode: {:04x}\", opcode); chip8.exec_opcode(opcode); println!(\"registers: {:?}\", chip8.registers); } } Opcode: 600a registers: [10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] Opcode: 7001 registers: [11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] Opcode: 1202 registers: [11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] Opcode: 7001 registers: [12, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] Opcode: 1202 registers: [12, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] Opcode: 7001 registers: [13, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] Opcode: 1202 registers: [13, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] Opcode: 7001 registers: [14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] Opcode: 1202 registers: [14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] Opcode: 7001 registers: [15, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] Opcode: 1202 registers: [15, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] ... –í–∏–¥–Ω–æ, —á—Ç–æ LD –≤—ã–ø–æ–ª–Ω–∏–ª–∞—Å—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ —É—Å—Ç–∞–Ω–æ–≤–∏–≤ –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞ V0. –ó–∞—Ç–µ–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏–±–∞–≤–ª–µ–Ω–∏–µ –µ–¥–∏–Ω–∏—Ü—ã –∏ –ø—Ä—ã–∂–æ–∫ –Ω–∞ –∞–¥—Ä–µ—Å 0x202, –∫–æ—Ç–æ—Ä—ã–π —Å–Ω–æ–≤–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ç.–¥. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º —É –Ω–∞—Å –ø–æ–ª—É—á–∏–ª–æ—Å—å –Ω–∞–ø–∏—Å–∞—Ç—å —Ü–∏–∫–ª —Å–æ —Å—á–µ—Ç—á–∏–∫–æ–º –∏—Å–ø–æ–ª—å–∑—É—è CHIP-8 üöÄ\n–û—Å—Ç–∞–ª–æ—Å—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –µ—â–µ 32 –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —á—Ç–æ–±—ã –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –Ω–∞—á–∞–ª —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ.\n–í–µ—Å—å —Å–ø–∏—Å–æ–∫ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞–ø—Ä–∏–º–µ—Ä —Ç—É—Ç https://tonisagrista.com/blog/2021/chip8-spec/#instruction-set\n","wordCount":"1252","inLanguage":"ru","image":"https://coyotle.ru/retropc.png","datePublished":"2025-02-10T22:45:03+03:00","dateModified":"2025-02-10T22:45:03+03:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://coyotle.ru/posts/chip-8-part1/"},"publisher":{"@type":"Organization","name":"–ú–∏–Ω–∏-–±–ª–æ–≥ –æ–± IT, Linux, Open Source, Tech","logo":{"@type":"ImageObject","url":"https://coyotle.ru/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://coyotle.ru/ accesskey=h title="–ú–∏–Ω–∏-–±–ª–æ–≥ –æ–± IT, Linux, Open Source, Tech (Alt + H)">–ú–∏–Ω–∏-–±–ª–æ–≥ –æ–± IT, Linux, Open Source, Tech</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://coyotle.ru/tags/ title=—Ç—ç–≥–∏><span>—Ç—ç–≥–∏</span></a></li><li><a href=https://coyotle.ru/about/ title="–æ–±–æ –º–Ω–µ"><span>–æ–±–æ –º–Ω–µ</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">–≠–º—É–ª–∏—Ä—É–µ–º CHIP-8 –Ω–∞ Rust. –ß–∞—Å—Ç—å 1</h1><div class=post-meta><span title='2025-02-10 22:45:03 +0300 +0300'>10 —Ñ–µ–≤—Ä–∞–ª—è 2025</span></div></header><figure class=entry-cover><img loading=eager srcset='https://coyotle.ru/posts/chip-8-part1/retropc_hu_c1caf434e82b4e82.png 360w,https://coyotle.ru/posts/chip-8-part1/retropc_hu_996bbf44fd3ea65d.png 480w,https://coyotle.ru/posts/chip-8-part1/retropc_hu_b3bf92926b024127.png 720w,https://coyotle.ru/posts/chip-8-part1/retropc.png 802w' src=https://coyotle.ru/posts/chip-8-part1/retropc.png sizes="(min-width: 768px) 720px, 100vw" width=802 height=611 alt="retro pc"></figure><div class=post-content><p>–ê –ø–æ—á–µ–º—É –±—ã –Ω–µ –∑–∞–º—É—Ç–∏—Ç—å —ç–º—É–ª—è—Ç–æ—Ä CHIP-8 –Ω–∞ Rust? –≠—Ç–∞ –º—ã—Å–ª—å –ø—Ä–∏—à–ª–∞ –º–Ω–µ –≤ 2 —á–∞—Å–∞ –Ω–æ—á–∏, –∫–æ–≥–¥–∞ —è —Å–æ–±–∏—Ä–∞–ª—Å—è –ª–æ–∂–∏—Ç—å—Å—è —Å–ø–∞—Ç—å. –ö —ç—Ç–æ–º—É –º–æ–º–µ–Ω—Ç—É —è –ø—Ä–æ—á–∏—Ç–∞–ª –≥–¥–µ-—Ç–æ 15 –≥–ª–∞–≤ —É—á–µ–±–Ω–∏–∫–∞ –ø–æ Rust –∏ –Ω–∞–ø–∏—Å–∞–ª –¥–µ—Å—è—Ç–æ–∫ hello world. &ldquo;–≠—Ç–æ–≥–æ –¥–æ–ª–∂–Ω–æ —Ö–≤–∞—Ç–∏—Ç—å&rdquo; - –ø–æ–¥—É–º–∞–ª —è, –∑–∞–≤–∞—Ä–∏–ª —á–∞–π, –≤–∫–ª—é—á–∏–ª –ü–ö –∏ –Ω–∞—á–∞–ª –≥—É–≥–ª–∏—Ç—å –ø—Ä–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É CHIP-8.</p><blockquote><p>CHIP-8 - –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º—ã–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –î–∂–æ–∑–µ—Ñ–æ–º –í–∞–π—Å–±–µ–∫–µ—Ä–æ–º –¥–ª—è —Å–≤–æ–µ–≥–æ –º–∏–∫—Ä–æ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ 1802. –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ –æ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –≤ COSMAC VIP –∏ Telmac 1800 - 8-–±–∏—Ç–Ω—ã—Ö –º–∏–∫—Ä–æ–∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö, –≤—ã–ø—É—â–µ–Ω–Ω—ã—Ö –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ 1970-—Ö.
CHIP-8 –±—ã–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –µ–≥–æ –±—ã–ª–æ –ª–µ–≥–∫–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞—Ç—å, –∞ —Ç–∞–∫–∂–µ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –æ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –º–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏, —á–µ–º –¥—Ä—É–≥–∏–µ —è–∑—ã–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, —Ç–∞–∫–∏–µ –∫–∞–∫ BASIC.</p></blockquote><h2 id=—á—Ç–æ-–ø–æ-–∂–µ–ª–µ–∑—É>–ß—Ç–æ –ø–æ –∂–µ–ª–µ–∑—É?<a hidden class=anchor aria-hidden=true href=#—á—Ç–æ-–ø–æ-–∂–µ–ª–µ–∑—É>#</a></h2><p>–≠–º—É–ª—è—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –Ω–∞ –±–æ—Ä—Ç—É:</p><ul><li>4096 –±–∞–π—Ç –û–ó–£</li><li>16 8-–±–∏—Ç–Ω—ã—Ö —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤</li><li>12-–±–∏—Ç–Ω—ã–π I —Ä–µ–≥–∏—Å—Ç—Ä –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å –ø–∞–º—è—Ç—å—é</li><li>16-–±–∏—Ç–Ω—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Ç–µ–∫—É—â—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é</li><li>—Å—Ç—ç–∫</li><li>—Ç–∞–π–º–µ—Ä –∑–∞–¥–µ—Ä–∂–∫–∏ (—É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –Ω–∞ 1 –µ—Å–ª–∏ –±–æ–ª—å—à–µ 0 —Å —á–∞—Å—Ç–æ—Ç–æ–π 60Hz)</li><li>—Ç–∞–π–º–µ—Ä –∑–≤—É–∫–∞ (—É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –Ω–∞ 1 –µ—Å–ª–∏ –±–æ–ª—å—à–µ 0 —Å —á–∞—Å—Ç–æ—Ç–æ–π 60Hz –∏ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç –∑–≤—É–∫ BEEP –µ—Å–ª–∏ —Ç–∞–π–º–µ—Ä –±–æ–ª—å—à–µ 0)</li><li>–º–æ–Ω–æ—Ö—Ä–æ–º–Ω—ã–π –¥–∏—Å–ø–ª–µ–π 64x32</li><li>–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å 16 –∫–ª–∞–≤–∏—à–∞–º–∏</li></ul><p>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ –ø–∞–º—è—Ç—å —Å –∞–¥—Ä–µ—Å–∞ 512 (0x200). –í –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö –º–∏–∫—Ä–æ–∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö –≤ –ø–µ—Ä–≤—ã—Ö 512 –±–∞–π—Ç–∞—Ö —Ä–∞–∑–º–µ—â–∞–ª—Å—è —Å–∞–º –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä CHIP-8, –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —ç–º—É–ª—è—Ç–æ—Ä–∞—Ö –≤ —ç—Ç—É –æ–±–ª–∞—Å—Ç—å –ø–æ–º–µ—â–∞—é—Ç –¥—Ä—É–≥–∏–µ –¥–∞–Ω–Ω—ã–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä —à—Ä–∏—Ñ—Ç—ã.</p><p>–í –∫–æ–¥–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>pub</span><span class=w> </span><span class=k>struct</span> <span class=nc>Chip8</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>pub</span><span class=w> </span><span class=n>memory</span>: <span class=p>[</span><span class=kt>u8</span><span class=p>;</span><span class=w> </span><span class=mi>4096</span><span class=p>],</span><span class=w> </span><span class=c1>// –ø–∞–º—è—Ç—å
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>pub</span><span class=w> </span><span class=n>registers</span>: <span class=p>[</span><span class=kt>u8</span><span class=p>;</span><span class=w> </span><span class=mi>16</span><span class=p>],</span><span class=w> </span><span class=c1>// —Ä–µ–≥–∏—Å—Ç—Ä—ã
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>pub</span><span class=w> </span><span class=n>i_register</span>: <span class=kt>u16</span><span class=p>,</span><span class=w> </span><span class=c1>// i-—Ä–µ–≥–∏—Å—Ç—Ä
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>pub</span><span class=w> </span><span class=n>pc</span>: <span class=kt>u16</span><span class=p>,</span><span class=w> </span><span class=c1>// —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Ç–µ–∫—É—â—É—é –æ–ø–µ—Ä–∞—Ü–∏—é (–∏–Ω–¥–µ–∫—Å –≤ memory)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>pub</span><span class=w> </span><span class=n>delay_timer</span>: <span class=kt>u8</span><span class=p>,</span><span class=w> </span><span class=c1>// —Ç–∞–π–º–µ—Ä –∑–∞–¥–µ—Ä–∂–∫–∏
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>pub</span><span class=w> </span><span class=n>sound_timer</span>: <span class=kt>u8</span><span class=p>,</span><span class=w> </span><span class=c1>// —Ç–∞–π–º–µ—Ä –∑–≤—É–∫–∞
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>pub</span><span class=w> </span><span class=n>stack</span>: <span class=nb>Vec</span><span class=o>&lt;</span><span class=kt>u16</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=c1>// —Å—Ç—ç–∫
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>pub</span><span class=w> </span><span class=n>display</span>: <span class=p>[[</span><span class=kt>u8</span><span class=p>;</span><span class=w> </span><span class=mi>64</span><span class=p>];</span><span class=w> </span><span class=mi>32</span><span class=p>],</span><span class=w> </span><span class=c1>// –¥–∏—Å–ø–ª–µ–π
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>pub</span><span class=w> </span><span class=n>keys</span>: <span class=p>[</span><span class=kt>bool</span><span class=p>;</span><span class=w> </span><span class=mi>16</span><span class=p>],</span><span class=w> </span><span class=c1>// –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p>–û–±—â–∏–π –ø–ª–∞–Ω —Ä–∞–±–æ—Ç—ã —ç–º—É–ª—è—Ç–æ—Ä–∞ —Ç–∞–∫–æ–π:</p><ol><li>–ó–∞–≥—Ä—É–∂–∞–µ–º ROM –≤ –º–∞—Å—Å–∏–≤ memory –Ω–∞—á–∏–Ω–∞—è —Å –∏–Ω–¥–µ–∫—Å–∞ 512 (0x200)</li><li>–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–µ–≥–∏—Å—Ç—Ä <code>pc</code> –≤ 512 (0x200)</li><li>–°—á–∏—Ç—ã–≤–∞–µ–º –∏–∑ memory –¥–≤–∞ —ç–ª–µ–º–µ–Ω—Ç–∞ (2 –±–∞–π—Ç–∞) –∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º pc –Ω–∞ 2</li><li>–î–µ–ª–∞–µ–º –∏–∑ –¥–≤—É—Ö —Å—á–∏—Ç–∞–Ω–Ω—ã—Ö –±–∞–π—Ç 16 –±–∏—Ç–Ω—ã–π –æ–ø–∫–æ–¥</li><li>–ü–∞—Ä—Å–∏–º –æ–ø–∫–æ–¥ —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –Ω–æ–º–µ—Ä –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã</li><li>–í—ã–ø–æ–ª–Ω—è–µ–º –ø–æ–ª—É—á–µ–Ω–Ω—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏</li><li>–ò–¥–µ–º –Ω–∞ —à–∞–≥ 3 —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –æ–ø–∫–æ–¥</li></ol><h2 id=–∑–∞–≥—Ä—É–∑–∫–∞-rom>–ó–∞–≥—Ä—É–∑–∫–∞ ROM<a hidden class=anchor aria-hidden=true href=#–∑–∞–≥—Ä—É–∑–∫–∞-rom>#</a></h2><p>–°–¥–µ–ª–∞–µ–º –∑–∞–≥—Ä—É–∑—á–∏–∫ ROM –≤ –ø–∞–º—è—Ç—å —ç–º—É–ª—è—Ç–æ—Ä–∞:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>impl</span><span class=w> </span><span class=n>Chip8</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>fn</span> <span class=nf>load_rom</span><span class=p>(</span><span class=o>&amp;</span><span class=k>mut</span><span class=w> </span><span class=bp>self</span><span class=p>,</span><span class=w> </span><span class=n>rom</span>: <span class=kp>&amp;</span><span class=nb>Vec</span><span class=o>&lt;</span><span class=kt>u8</span><span class=o>&gt;</span><span class=p>){</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=n>rom</span><span class=p>.</span><span class=n>len</span><span class=p>()</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>4096</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mh>0x200</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=fm>panic!</span><span class=p>(</span><span class=s>&#34;ROM too big to fit in memory&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>i</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>byte</span><span class=p>)</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=n>rom</span><span class=p>.</span><span class=n>iter</span><span class=p>().</span><span class=n>enumerate</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=bp>self</span><span class=p>.</span><span class=n>memory</span><span class=p>[</span><span class=mh>0x200</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=kt>usize</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>byte</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=bp>self</span><span class=p>.</span><span class=n>pc</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mh>0x200</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>fn</span> <span class=nf>load_from_file</span><span class=p>(</span><span class=o>&amp;</span><span class=k>mut</span><span class=w> </span><span class=bp>self</span><span class=p>,</span><span class=w> </span><span class=n>path</span>: <span class=kp>&amp;</span><span class=kt>str</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>let</span><span class=w> </span><span class=n>rom</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>std</span>::<span class=n>fs</span>::<span class=n>read</span><span class=p>(</span><span class=n>path</span><span class=p>).</span><span class=n>expect</span><span class=p>(</span><span class=s>&#34;Failed to read ROM&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=bp>self</span><span class=p>.</span><span class=n>load_rom</span><span class=p>(</span><span class=o>&amp;</span><span class=n>rom</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p>–í —ç—Ç–æ–º –∫–æ–¥–µ –º—ã –ø–æ–ª—É—á–∞–µ–º ROM –≤ –≤–∏–¥–µ –º–∞—Å—Å–∏–≤–∞, –ø—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–º–µ—Å—Ç–∏—Ç—Å—è –ª–∏ –æ–Ω –≤ –ø–∞–º—è—Ç—å, –ø–µ—Ä–µ–±–∏—Ä–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–º, –¥–æ–±–∞–≤–ª—è–µ–º –∏—Ö –≤ –Ω–∞—à—É –ø–∞–º—è—Ç—å –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —É–∫–∞–∑–∞—Ç–µ–ª—å <code>pc</code> –Ω–∞ –Ω–∞—á–∞–ª–æ –ø—Ä–æ–≥—Ä–∞–º–º—ã.</p><p>–í—Ç–æ—Ä–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å—á–∏—Ç—ã–≤–∞–µ—Ç ROM –∏–∑ —Ñ–∞–π–ª–∞ –∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤ –ø–∞–º—è—Ç—å —ç–º—É–ª—è—Ç–æ—Ä–∞ –∏—Å–ø–æ–ª—å–∑—É—è –ø–µ—Ä–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é.</p><h2 id=–æ–ø–∫–æ–¥—ã>–û–ø–∫–æ–¥—ã<a hidden class=anchor aria-hidden=true href=#–æ–ø–∫–æ–¥—ã>#</a></h2><p>CHIP-8 –∏–º–µ–µ—Ç 35 –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π, –∫–∞–∂–¥–∞—è –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ 2-–±–∞–π—Ç–æ–≤—ã–º (16-–±–∏—Ç–Ω—ã–º) –æ–ø–∫–æ–¥–æ–º. –û–ø–∫–æ–¥—ã –∏–º–µ—é—Ç —Ç–∞–∫–æ–π —Ñ–æ—Ä–º–∞—Ç: <code>CXYN</code>, <code>CXNN</code> –∏–ª–∏ <code>CNNN</code>, –≥–¥–µ –∫–∞–∂–¥–∞—è –∏–∑ –ø–æ–∑–∏—Ü–∏–π 4-–±–∏—Ç–Ω–∞—è.</p><ul><li><code>C</code> - –∫–æ–¥ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏–ª–∏ –≥—Ä—É–ø–ø—ã</li><li><code>X</code> –∏ <code>Y</code> –æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–∞–∫ –∏–Ω–¥–µ–∫—Å—ã —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤</li><li><code>N</code>, <code>NN</code>, <code>NNN</code> - 4, 8 –∏–ª–∏ 12-–±–∏—Ç–Ω—ã–µ —á–∏—Å–ª–∞. –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —á—Ç–æ–±—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤ –∏ –ø—Ä–æ—á–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö</li></ul><p>–ß—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–¥ –≤ –ø–∞–º—è—Ç–∏ –Ω–∞–º –Ω–∞–¥–æ —É–º–µ—Ç—å —á–∏—Ç–∞—Ç—å –æ–ø–∫–æ–¥—ã –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —Ä–µ–≥–∏—Å—Ç—Ä <code>pc</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>impl</span><span class=w> </span><span class=n>Chip8</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>..</span><span class=p>.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>fn</span> <span class=nf>get_opcode</span><span class=p>(</span><span class=o>&amp;</span><span class=k>mut</span><span class=w> </span><span class=bp>self</span><span class=p>)</span><span class=w> </span>-&gt; <span class=kt>u16</span> <span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=bp>self</span><span class=p>.</span><span class=n>pc</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=kt>usize</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=bp>self</span><span class=p>.</span><span class=n>memory</span><span class=p>.</span><span class=n>len</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=fm>panic!</span><span class=p>(</span><span class=s>&#34;PC out of bounds&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>let</span><span class=w> </span><span class=n>byte1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=bp>self</span><span class=p>.</span><span class=n>memory</span><span class=p>[</span><span class=bp>self</span><span class=p>.</span><span class=n>pc</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=kt>usize</span><span class=p>]</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=kt>u16</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>let</span><span class=w> </span><span class=n>byte2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=bp>self</span><span class=p>.</span><span class=n>memory</span><span class=p>[(</span><span class=bp>self</span><span class=p>.</span><span class=n>pc</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=kt>usize</span><span class=p>]</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=kt>u16</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=bp>self</span><span class=p>.</span><span class=n>pc</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=mi>2</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>(</span><span class=n>byte1</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=mi>8</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>byte2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p>–ë–µ—Ä–µ–º –∏–∑ –ø–∞–º—è—Ç–∏ –¥–≤–∞ 8-–±–∏—Ç–Ω—ã—Ö —á–∏—Å–ª–∞ —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏ <code>pc</code> –∏ <code>pc+1</code>, —Å–æ–±–∏—Ä–∞–µ–º –æ–¥–Ω–æ 16-–±–∏—Ç–Ω–æ–µ –∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ä–µ–≥–∏—Å—Ç—Ä <code>pc</code> –Ω–∞ 2.</p><p>–ü—Ä–æ–≤–µ—Ä–∏–º, —á—Ç–æ —É –Ω–∞—Å –ø–æ–ª—É—á–∏–ª–æ—Å—å:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>fn</span> <span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=k>mut</span><span class=w> </span><span class=n>chip8</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Chip8</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>memory</span>: <span class=p>[</span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=mi>4096</span><span class=p>],</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>registers</span>: <span class=p>[</span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=mi>16</span><span class=p>],</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>i_register</span>: <span class=mi>0</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>pc</span>: <span class=mh>0x200</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>delay_timer</span>: <span class=mi>0</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>sound_timer</span>: <span class=mi>0</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>stack</span>: <span class=nb>Vec</span>::<span class=n>new</span><span class=p>(),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>display</span>: <span class=p>[[</span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=mi>64</span><span class=p>];</span><span class=w> </span><span class=mi>32</span><span class=p>],</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>keys</span>: <span class=p>[</span><span class=kc>false</span><span class=p>;</span><span class=w> </span><span class=mi>16</span><span class=p>],</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>rom</span>:<span class=nb>Vec</span><span class=o>&lt;</span><span class=kt>u8</span><span class=o>&gt;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=fm>vec!</span><span class=p>[</span><span class=mh>0x00</span><span class=p>,</span><span class=w> </span><span class=mh>0x01</span><span class=p>];</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>chip8</span><span class=p>.</span><span class=n>load_rom</span><span class=p>(</span><span class=o>&amp;</span><span class=n>rom</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>loop</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>let</span><span class=w> </span><span class=n>opcode</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>chip8</span><span class=p>.</span><span class=n>get_opcode</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=n>opcode</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>break</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;Opcode: </span><span class=si>{:04x}</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=n>opcode</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><pre tabindex=0><code>Opcode: 0000
Opcode: 0001
</code></pre><p>–í–ø–µ—á–∞—Ç–ª—è–µ—Ç, –ø—Ä–∞–≤–¥–∞? üòÖ</p><h2 id=–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π>–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π<a hidden class=anchor aria-hidden=true href=#–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π>#</a></h2><p>–í –ø—Ä–∏–Ω—Ü–∏–ø–µ —ç—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π. –ü—Ä–µ–¥–ª–∞–≥–∞—é –Ω–∞—á–∞—Ç—å —Å –º–µ—Å—Ç–∞ –≤ –∫–∞—Ä—å–µ—Ä –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ç—Ä–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:</p><ul><li>JMP (<code>1NNN</code>) &ndash; –ø–µ—Ä–µ–π—Ç–∏ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é –∫–æ–¥–∞ –ø–æ –∞–¥—Ä–µ—Å—É NNN (pc:=NNN)</li><li>LD VX, NN (<code>6XNN</code>) &ndash; –ø–æ–º–µ—Å—Ç–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ NN –≤ —Ä–µ–≥–∏—Å—Ç—Ä Vx</li><li>ADD VX, NN (<code>7XNN</code>) &ndash; –ø—Ä–∏–±–∞–≤–∏—Ç—å NN –∫ –∑–Ω–∞—á–µ–Ω–∏—é –≤ —Ä–µ–≥–∏—Å—Ç—Ä–µ Vx</li></ul><p>–î–ª—è —Ç–µ—Å—Ç–æ–≤ –Ω–∞–º –Ω—É–∂–µ–Ω –ø—Ä–æ—Å—Ç–æ–π ROM:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=kd>let</span><span class=w> </span><span class=n>rom</span>:<span class=nb>Vec</span><span class=o>&lt;</span><span class=kt>u8</span><span class=o>&gt;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=fm>vec!</span><span class=p>[</span><span class=mh>0x60</span><span class=p>,</span><span class=w> </span><span class=mh>0x0A</span><span class=p>,</span><span class=w> </span><span class=mh>0x70</span><span class=p>,</span><span class=w> </span><span class=mh>0x01</span><span class=w> </span><span class=p>,</span><span class=w> </span><span class=mh>0x12</span><span class=p>,</span><span class=w> </span><span class=mh>0x02</span><span class=p>];</span><span class=w>
</span></span></span></code></pre></div><blockquote><p>–î–µ—Ä–∂–∏–º –≤ —É–º–µ, —á—Ç–æ –æ–ø–∫–æ–¥—ã - 16-–±–∏—Ç–Ω—ã–µ –∏ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –∏–∑ 8-–±–∏—Ç–Ω—ã—Ö –ø–∞—Ä. –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ–º —É –Ω–∞—Å —Ç—Ä–∏ –æ–ø–∫–æ–¥–∞: 600A, 7001, 1202.</p></blockquote><p>–ß—Ç–æ –¥–æ–ª–∂–Ω–∞ –¥–µ–ª–∞—Ç—å —ç—Ç–∞ &ldquo;–ø—Ä–æ–≥—Ä–∞–º–º–∞&rdquo;?</p><ul><li><code>[200]</code> <code>0x600A</code> &ndash; –≤—ã–∑—ã–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é <code>LD</code>, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–º–µ—â–∞–µ—Ç <code>0xA (10)</code> –≤ <code>registers[0]</code></li><li><code>[202]</code> <code>0x7001</code> &ndash; –≤—ã–∑—ã–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é <code>ADD</code>, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–±–∞–≤–ª—è–µ—Ç <code>1</code> –∫ <code>registers[0]</code></li><li><code>[204]</code> <code>0x1202</code> &ndash; –≤—ã–∑—ã–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é <code>JMP</code> —á—Ç–æ–±—ã –ø–µ—Ä–µ–π—Ç–∏ –∫ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∞–¥—Ä–µ—Å—É <code>0x202</code>.</li></ul><p>–í –∏—Ç–æ–≥–µ —ç—Ç–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ü–∏–∫–ª –≤ –∫–æ—Ç–æ—Ä–æ–º –≤ registers[0] –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è 1.</p><p>–ü–æ–≥–Ω–∞–ª–∏:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>impl</span><span class=w> </span><span class=n>Chip8</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>..</span><span class=p>.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>fn</span> <span class=nf>exec_opcode</span><span class=p>(</span><span class=o>&amp;</span><span class=k>mut</span><span class=w> </span><span class=bp>self</span><span class=p>,</span><span class=w> </span><span class=n>opcode</span>: <span class=kt>u16</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>match</span><span class=w> </span><span class=n>opcode</span><span class=w> </span><span class=o>&amp;</span><span class=w> </span><span class=mh>0xF000</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=c1>// –æ—Ç–±—Ä–∞—Å—ã–≤–∞–µ–º –º–ª–∞–¥—à–∏–µ 12 –±–∏—Ç —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∫–æ–¥ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>            </span><span class=mh>0x1000</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=c1>// JMP NNN
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>                </span><span class=bp>self</span><span class=p>.</span><span class=n>pc</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>opcode</span><span class=w> </span><span class=o>&amp;</span><span class=w> </span><span class=mh>0x0FFF</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=mh>0x6000</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=c1>// LD XNN
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>                </span><span class=kd>let</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>((</span><span class=n>opcode</span><span class=w> </span><span class=o>&amp;</span><span class=w> </span><span class=mh>0x0F00</span><span class=p>)</span><span class=w> </span><span class=o>&gt;&gt;</span><span class=w> </span><span class=mi>8</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=kt>usize</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=kd>let</span><span class=w> </span><span class=n>value</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>opcode</span><span class=w> </span><span class=o>&amp;</span><span class=w> </span><span class=mh>0x00FF</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=kt>u8</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=bp>self</span><span class=p>.</span><span class=n>registers</span><span class=p>[</span><span class=n>x</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>value</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=mh>0x7000</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=c1>// ADD XNN
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>                </span><span class=kd>let</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>((</span><span class=n>opcode</span><span class=w> </span><span class=o>&amp;</span><span class=w> </span><span class=mh>0x0F00</span><span class=p>)</span><span class=w> </span><span class=o>&gt;&gt;</span><span class=w> </span><span class=mi>8</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=kt>usize</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=kd>let</span><span class=w> </span><span class=n>vx</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=bp>self</span><span class=p>.</span><span class=n>registers</span><span class=p>[</span><span class=n>x</span><span class=p>]</span><span class=w> </span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=kd>let</span><span class=w> </span><span class=n>value</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>opcode</span><span class=w> </span><span class=o>&amp;</span><span class=w> </span><span class=mh>0x00FF</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=kt>u8</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=bp>self</span><span class=p>.</span><span class=n>registers</span><span class=p>[</span><span class=n>x</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>vx</span><span class=p>.</span><span class=n>wrapping_add</span><span class=p>(</span><span class=n>value</span><span class=p>);</span><span class=w> </span><span class=c1>// –æ—Ç–±—Ä–∞—Å—ã–≤–∞–µ–º —Å—Ç–∞—Ä—à–∏–µ –±–∏—Ç—ã –≤ —Å—É–º–º–µ –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è u8
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>_</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=fm>panic!</span><span class=p>(</span><span class=s>&#34;Unknown opcode: </span><span class=si>{:04x}</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=n>opcode</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>fn</span> <span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=k>mut</span><span class=w> </span><span class=n>chip8</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Chip8</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>memory</span>: <span class=p>[</span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=mi>4096</span><span class=p>],</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>registers</span>: <span class=p>[</span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=mi>16</span><span class=p>],</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>i_register</span>: <span class=mi>0</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>pc</span>: <span class=mh>0x200</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>delay_timer</span>: <span class=mi>0</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>sound_timer</span>: <span class=mi>0</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>stack</span>: <span class=nb>Vec</span>::<span class=n>new</span><span class=p>(),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>display</span>: <span class=p>[[</span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=mi>64</span><span class=p>];</span><span class=w> </span><span class=mi>32</span><span class=p>],</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>keys</span>: <span class=p>[</span><span class=kc>false</span><span class=p>;</span><span class=w> </span><span class=mi>16</span><span class=p>],</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>rom</span>:<span class=nb>Vec</span><span class=o>&lt;</span><span class=kt>u8</span><span class=o>&gt;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=fm>vec!</span><span class=p>[</span><span class=mh>0x60</span><span class=p>,</span><span class=w> </span><span class=mh>0x0A</span><span class=p>,</span><span class=w> </span><span class=mh>0x70</span><span class=p>,</span><span class=w> </span><span class=mh>0x01</span><span class=p>,</span><span class=w> </span><span class=mh>0x12</span><span class=p>,</span><span class=w> </span><span class=mh>0x02</span><span class=p>];</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>chip8</span><span class=p>.</span><span class=n>load_rom</span><span class=p>(</span><span class=o>&amp;</span><span class=n>rom</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>loop</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>let</span><span class=w> </span><span class=n>opcode</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>chip8</span><span class=p>.</span><span class=n>get_opcode</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=n>opcode</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>break</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;Opcode: </span><span class=si>{:04x}</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=n>opcode</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>chip8</span><span class=p>.</span><span class=n>exec_opcode</span><span class=p>(</span><span class=n>opcode</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;registers: </span><span class=si>{:?}</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=n>chip8</span><span class=p>.</span><span class=n>registers</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><pre tabindex=0><code>Opcode: 600a
registers: [10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
Opcode: 7001
registers: [11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
Opcode: 1202
registers: [11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
Opcode: 7001
registers: [12, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
Opcode: 1202
registers: [12, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
Opcode: 7001
registers: [13, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
Opcode: 1202
registers: [13, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
Opcode: 7001
registers: [14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
Opcode: 1202
registers: [14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
Opcode: 7001
registers: [15, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
Opcode: 1202
registers: [15, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
...
</code></pre><p>–í–∏–¥–Ω–æ, —á—Ç–æ <code>LD</code> –≤—ã–ø–æ–ª–Ω–∏–ª–∞—Å—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ —É—Å—Ç–∞–Ω–æ–≤–∏–≤ –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞ <code>V0</code>. –ó–∞—Ç–µ–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏–±–∞–≤–ª–µ–Ω–∏–µ –µ–¥–∏–Ω–∏—Ü—ã –∏ –ø—Ä—ã–∂–æ–∫ –Ω–∞ –∞–¥—Ä–µ—Å <code>0x202</code>, –∫–æ—Ç–æ—Ä—ã–π —Å–Ω–æ–≤–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ç.–¥. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º —É –Ω–∞—Å –ø–æ–ª—É—á–∏–ª–æ—Å—å –Ω–∞–ø–∏—Å–∞—Ç—å —Ü–∏–∫–ª —Å–æ —Å—á–µ—Ç—á–∏–∫–æ–º –∏—Å–ø–æ–ª—å–∑—É—è CHIP-8 üöÄ</p><p>–û—Å—Ç–∞–ª–æ—Å—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –µ—â–µ 32 –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —á—Ç–æ–±—ã –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –Ω–∞—á–∞–ª —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ.</p><p>–í–µ—Å—å —Å–ø–∏—Å–æ–∫ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞–ø—Ä–∏–º–µ—Ä —Ç—É—Ç <a href=https://tonisagrista.com/blog/2021/chip8-spec/#instruction-set>https://tonisagrista.com/blog/2021/chip8-spec/#instruction-set</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://coyotle.ru/tags/rust/>Rust</a></li><li><a href=https://coyotle.ru/tags/chip-8/>Chip-8</a></li></ul><nav class=paginav><a class=prev href=https://coyotle.ru/posts/smotrim-rss-proxy/><span class=title>¬´ –ü—Ä–µ–¥—ã–¥—É—â–∞—è</span><br><span>–ü—Ä–æ–∫—Å–∏—Ä—É–π –º–µ–Ω—è –ø–æ–ª–Ω–æ—Å—Ç—å—é</span>
</a><a class=next href=https://coyotle.ru/posts/amnezia/><span class=title>–°–ª–µ–¥—É—é—â–∞—è ¬ª</span><br><span>–ú–∏–≥—Ä–∞—Ü–∏—è —Å wireguard –Ω–∞ amneziawg</span></a></nav></footer><div class=comments></div><script>function setComments(e){let t=document.createElement("script");t.src="https://utteranc.es/client.js",t.setAttribute("id","comments-script"),t.setAttribute("repo","coyotle/blog"),t.setAttribute("issue-term","pathname"),t.setAttribute("theme",e),t.setAttribute("label","comment"),t.setAttribute("crossorigin","anonymous"),t.setAttribute("async",""),document.querySelector("div.comments").innerHTML="",document.querySelector("div.comments").appendChild(t)}document.getElementById("theme-toggle").addEventListener("click",()=>{setComments(document.body.className.includes("dark")?"github-light":"github-dark")});let theme=document.body.className.includes("dark")?"github-dark":"github-light";setComments(theme)</script></article></main><footer class=footer><span>&copy; 2025 <a href=https://coyotle.ru/>–ú–∏–Ω–∏-–±–ª–æ–≥ –æ–± IT, Linux, Open Source, Tech</a></span> ¬∑
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å";function s(){t.innerHTML="—Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!",setTimeout(()=>{t.innerHTML="–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>